(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{378:function(e,t,a){e.exports=a.p+"static/media/travel1.eda7aff3.jpg"},379:function(e,t,a){e.exports=a.p+"static/media/travel2.f85b1e62.jpg"},380:function(e,t,a){e.exports=a.p+"static/media/travel3.373599b5.jpg"},381:function(e,t,a){e.exports=a.p+"static/media/travel4.06f3c00f.jpg"},382:function(e,t,a){e.exports=a.p+"static/media/travel5.3b3c1978.jpg"},383:function(e,t,a){e.exports=a.p+"static/media/travel6.ca2510a6.jpg"},384:function(e,t,a){e.exports=a.p+"static/media/travel7.eba269f6.jpg"},396:function(e,t,a){e.exports=a(596)},401:function(e,t,a){},596:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(63),i=a.n(r),s=(a(401),a(387)),o=a(20),c=a(19),u=a(28),d=a(26),m=a(15),h=a(29),p=a(357),g=a(205),E=a(46),v=a(85),b=a(327),f=a(154),j=a(356),y=a(115),O=a(353),C=a(354),w=a(355),k=a(293),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={viewport:{width:400,height:400,latitude:a.props.latitude,longitude:a.props.longitude,zoom:16}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(k.b,Object.assign({},this.state.viewport,{onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:"pk.eyJ1IjoiYWxleGN1aSIsImEiOiJjanYzNTVsejcyY29uNDNwZml4YjZ3dHV4In0.f4di1n6PqkuH-Lksizp3-Q"}),l.a.createElement(k.a,{latitude:this.props.latitude,longitude:this.props.longitude},l.a.createElement(E.a,{color:"red",name:"point"})))}}]),t}(n.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getPhotos",value:function(){return this.props.details.photos.map(function(e){return l.a.createElement("div",null,l.a.createElement(b.a,{trigger:l.a.createElement(y.a,{src:e,size:"medium",verticalAlign:"middle"}),basic:!0},l.a.createElement(b.a.Content,{image:!0},l.a.createElement(y.a,{wrapped:!0,size:"big",src:e}))),l.a.createElement(O.a,{hidden:!0,fitted:!0}))})}},{key:"getAddress",value:function(){for(var e=this.props.details.location.display_address,t=[],a=0;a<e.length-1;a++)t.push(e[a]),t.push(", ");return t.push(e[e.length-1]),t}},{key:"getCategories",value:function(){for(var e=this.props.details.categories,t=[],a=0;a<e.length-1;a++){var n=e[a].title;t.push(n),t.push(", ")}return t.push(e[e.length-1].title),t}},{key:"render",value:function(){if(this.props.loading)return l.a.createElement(E.a,{loading:!0,name:"circle notched"});var e=this.getCategories(),t=this.getPhotos(),a=this.getAddress();return l.a.createElement(g.a,{columns:3,divided:!0},l.a.createElement(g.a.Row,null,l.a.createElement(g.a.Column,null,l.a.createElement(C.a,{as:"h1"},l.a.createElement(E.a,{name:"photo"}),l.a.createElement(C.a.Content,null,"Photos")),t),l.a.createElement(g.a.Column,{width:8},l.a.createElement(C.a,{as:"h1"},l.a.createElement(C.a.Content,null,this.props.details.name),l.a.createElement(C.a.Subheader,null,e)),l.a.createElement(w.a,{bulleted:!0},l.a.createElement(w.a.Item,null,l.a.createElement(w.a.Header,null,"Address"),a),l.a.createElement(w.a.Item,null,l.a.createElement(w.a.Header,null,"Phone"),this.props.details.display_phone),l.a.createElement(w.a.Item,null,l.a.createElement(w.a.Header,null,"Price"),this.props.price),l.a.createElement(w.a.Item,null,l.a.createElement(w.a.Header,null,"Rating"),this.props.rating)),l.a.createElement(S,{latitude:this.props.details.coordinates.latitude,longitude:this.props.details.coordinates.longitude}))))}}]),t}(l.a.Component),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).searchHandler=a.searchHandler.bind(Object(m.a)(a)),a.state={details:[],loading:!1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"yelp_detailed_url",value:function(e){return"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/"+e}},{key:"searchHandler",value:function(e){var t=this,a=this.props.eventID;this.setState({loading:!0}),fetch(this.yelp_detailed_url(a),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer 1oVKZrEwzseUCh8sk57ORW4vBLSPDpk7tMDgrLSzsBVQ554QHwHKoghKGRNLhiVTajkH3zD8vuxepiWhu9GMCwglYwZqUiYlGrR9__0DMsVxEuTyL1iITpqI8qHGXHYx"}}).then(function(e){return e.json()}).then(function(e){t.setState({details:e},function(){t.setState({loading:!1})})})}},{key:"convertRating",value:function(){var e=[],t=this.props.eventRating,a=!1;for(Number.isInteger(t)||(t-=.5,a=!0);t>0;)e.push(l.a.createElement(E.a,{name:"star",color:"yellow"})),t-=1;return a&&e.push(l.a.createElement(E.a,{name:"star half",color:"yellow"})),e}},{key:"render",value:function(){var e=this.convertRating();return l.a.createElement(b.a,{trigger:l.a.createElement(f.a.Group,{horizontal:!0,onClick:this.searchHandler},l.a.createElement(f.a,null,this.props.eventName),l.a.createElement(f.a,{style:{color:"green"}},this.props.eventPrice),l.a.createElement(f.a,null,e))},l.a.createElement(b.a.Header,null,this.props.eventsDate),l.a.createElement(b.a.Content,null,l.a.createElement(x,{loading:this.state.loading,details:this.state.details,price:l.a.createElement(j.a,{style:{color:"green"}},this.props.eventPrice),rating:e})))}}]),t}(l.a.Component),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e,t){var n=t.index,l=a.state.activeIndex===n?-1:n;a.setState({activeIndex:l})},a.state={activeIndex:0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.events.map(function(t){return l.a.createElement("ul",null,l.a.createElement(P,{eventsDate:e.props.eventsDate,eventName:t.business.name,eventPhone:t.business.phone,eventPrice:t.business.price,eventRating:t.business.rating,eventID:t.business.id}))}),a=this.state.activeIndex;return l.a.createElement(p.a,{fluid:!0,styled:!0},l.a.createElement(p.a.Title,{active:0===a,index:0,onClick:this.handleClick},l.a.createElement(g.a,null,l.a.createElement(g.a.Row,null,l.a.createElement(E.a,{name:"dropdown"}),this.props.eventsDate,l.a.createElement(g.a.Column,{floated:"left"}),l.a.createElement(g.a.Column,{floated:"right"},l.a.createElement(v.a,{circular:!0,color:"blue"},t.length))))),l.a.createElement(p.a.Content,{active:0===a},l.a.createElement("p",null,t)))}}]),t}(l.a.Component),H=(a(534),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"groupEvents",value:function(){for(var e=this.props.selected.sort(function(e,t){return e.date.getTime()-t.date.getTime()}),t={},a=0;a<e.length;a++){t[e[a].date.toDateString()]=[]}for(var n=0;n<e.length;n++){var l=e[n];t[l.date.toDateString()].push(l)}return t}},{key:"render",value:function(){for(var e=Object.values(this.groupEvents()),t=[],a=0;a<e.length;a++){var n=e[a];t.push(l.a.createElement(R,{events:n,eventsDate:Object.keys(this.groupEvents())[a]}))}return l.a.createElement("div",null,l.a.createElement(C.a,{as:"h1"},l.a.createElement(E.a,{name:"calendar alternate outline"}),l.a.createElement(C.a.Content,null,"Calendar",l.a.createElement(C.a.Subheader,null,"Plan your trip"))),l.a.createElement("br",null),t)}}]),t}(l.a.Component)),D=a(243),T=a(359),I=a(286),B=a(360),L=a(288),z=a(114),A=a(361),N=a(95),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSelect=a.handleSelect.bind(Object(m.a)(a)),a.state={dateIndex:-1,disable:!0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleSelect",value:function(e){this.props.addBusiness(this.props.business,this.props.dates[this.state.dateIndex])}},{key:"render",value:function(){var e=this,t=this.props.business,a=this.props.dates.map(function(e){return e.toLocaleDateString()});return l.a.createElement(f.a,{raised:!0,style:{marginRight:"10px"}},l.a.createElement(g.a,{celled:!0},l.a.createElement(g.a.Row,null,l.a.createElement(g.a.Column,{width:6},l.a.createElement(y.a,{src:t.image_url,style:{objectFit:"cover",width:"100%",height:"200px"}})),l.a.createElement(g.a.Column,{width:10},l.a.createElement("h3",null,t.name),l.a.createElement("div",{style:{float:"left",width:"50%"}},l.a.createElement("span",null,t.categories.map(function(e){return e.title}).join(", "))," ",l.a.createElement("br",null),t.price&&l.a.createElement(l.a.Fragment,null,l.a.createElement("b",{style:{color:"green"}},t.price),l.a.createElement("br",null)),l.a.createElement("div",{style:{position:"absolute",bottom:"0",width:"50%"}},t.display_phone," ",l.a.createElement("br",null),t.location.display_address,l.a.createElement("br",null),l.a.createElement("br",null))),l.a.createElement("div",{style:{float:"right"}},l.a.createElement("b",null,t.rating,"/5 "),l.a.createElement("br",null),t.review_count," reviews ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(N.a,{placeholder:"Select Date",fluid:!0,selection:!0,options:a.map(function(e,a){return{key:t.id+e,text:e,value:a}}),style:{marginBottom:"5px"},onChange:function(t,a){e.setState({dateIndex:a.value,disable:!1})}}),l.a.createElement(z.a,{primary:!0,icon:!0,labelPosition:"right",disabled:this.state.disable,onClick:this.handleSelect},"Add to plan",l.a.createElement(E.a,{name:"add"}))),l.a.createElement("br",null),l.a.createElement("br",null)))))}}]),t}(l.a.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getSelectedLocation=function(){return a.state.location?a.state.location:a.props.location},a.getYelpURL=function(e){var t=a.getSelectedLocation();return"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term="+e+"&latitude="+t.lat.toString()+"&longitude="+t.lon.toString()},a.searchHandler=function(e){var t=a.state,n=t.query;t.loading;a.setState({loading:!0},function(){fetch(a.getYelpURL(n),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer 1oVKZrEwzseUCh8sk57ORW4vBLSPDpk7tMDgrLSzsBVQ554QHwHKoghKGRNLhiVTajkH3zD8vuxepiWhu9GMCwglYwZqUiYlGrR9__0DMsVxEuTyL1iITpqI8qHGXHYx"}}).then(function(e){return e.json()}).then(function(e){a.setState({results:e.businesses,loading:!1})})})},a.clearResults=function(){a.setState({query:"",results:[]})},a.getPlaceholderCards=function(){for(var e=[],t=0;t<20;t++)e.push(l.a.createElement(f.a,{key:t,raised:!0,style:{marginRight:"10px"}},l.a.createElement(g.a,{celled:!0},l.a.createElement(g.a.Row,null,l.a.createElement(g.a.Column,{width:6},l.a.createElement(T.a,null,l.a.createElement(T.a.Image,{style:{objectFit:"cover",width:"100%",height:"200px"}}))),l.a.createElement(g.a.Column,{width:10},l.a.createElement(I.a,{active:!0,inverted:!0},l.a.createElement(B.a,{inverted:!0},"Loading")))))));return e},a.saveSettings=function(){},a.stripLocationName=function(e){return e.split(",")[0]},a.searchHandler=a.searchHandler.bind(Object(m.a)(a)),a.state={query:"",results:[],loading:!1,settingsModalOpen:!1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.query,n=t.results,r=t.loading,i=(t.settingsModalOpen,this.props),s=i.dates,o=i.addBusiness,c=(window.innerHeight-68).toString()+"px",u=this.getPlaceholderCards(),d=this.getSelectedLocation();return l.a.createElement(j.a,null,l.a.createElement("div",{style:{marginTop:"20px",marginBottom:"10px"}},l.a.createElement(C.a,{size:"large"},"Things to do around ",d.name),l.a.createElement(g.a,{columns:"equal"},l.a.createElement(g.a.Row,null,l.a.createElement(g.a.Column,null,l.a.createElement(L.a,{style:{marginRight:"10px",marginTop:"10px"},action:{color:"teal",icon:"search",onClick:this.searchHandler,disabled:!a},value:a,placeholder:"Search",onChange:function(t){e.setState({query:t.target.value})}}),l.a.createElement(z.a,{style:{marginRight:"10px",marginTop:"10px"},icon:"idea",labelPosition:"right",color:"teal",content:"What's popular?",onClick:function(){return e.setState({query:""},e.searchHandler)}}),n&&n[0]&&l.a.createElement(z.a,{style:{marginRight:"10px",marginTop:"10px"},icon:"remove circle",labelPosition:"right",color:"teal",content:"Clear results",onClick:this.clearResults}),l.a.createElement(b.a,{trigger:l.a.createElement(z.a,{style:{marginRight:"10px",marginTop:"10px"},color:"teal",floated:"right",icon:"setting"})},l.a.createElement(b.a.Header,null,"Settings"),l.a.createElement(b.a.Content,null,l.a.createElement(A.a,{size:"large"},l.a.createElement(D.a,{onSuggestSelect:function(t){t&&e.setState({location:{lat:t.location.lat,lon:t.location.lng,name:e.stripLocationName(t.label)}})}})))))))),l.a.createElement(O.a,{fitted:!0}),r&&u,n&&n[0]&&l.a.createElement(j.a,{style:{overflow:"auto",maxHeight:c,paddingTop:"10px",paddingBottom:"10px"}},l.a.createElement(j.a,null,n.map(function(e,t){return l.a.createElement(q,{key:t.toString(),business:e,dates:s,addBusiness:o})}))))}}]),t}(l.a.Component),Y=a(16),G=a(376),V=a(245),W=a(377),M=a.n(W),K=a(378),U=a.n(K),Z=a(379),Q=a.n(Z),F=a(380),J=a.n(F),X=a(381),$=a.n(X),ee=a(382),te=a.n(ee),ae=a(383),ne=a.n(ae),le=a(384),re=a.n(le),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e,t){var n,l=t.name,r=t.value;a.state.hasOwnProperty(l)&&a.setState((n={},Object(Y.a)(n,l,r),Object(Y.a)(n,"dateCheck",r.split(" - ").length<2||0===r.split(" - ")[1].length),n))},a.getDates=function(e,t){for(var a=[],n=e,l=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};n<=t;)a.push(n),n=l.call(n,1);return a},a.getBackground=function(){var e=[U.a,Q.a,J.a,$.a,te.a,ne.a,re.a];return l.a.createElement(M.a,{images:e,duration:7,transition:2})},a.handleStartPlan=function(e){var t=a.state,n=t.datesRange,l=t.location,r=a.props.startPlan,i=n.split(" - ");function s(e){var t=e.split("-"),a=t[0];return t[0]=t[1],t[1]=a,t.join("-")}var o=new Date(s(i[0])),c=new Date(s(i[1]));r(l,a.getDates(o,c))},a.stripLocationName=function(e){return e.split(",")[0]},a.state={datesRange:"",location:null,dateCheck:!0,placeCheck:!0},a.handleStartPlan=a.handleStartPlan.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.datesRange,n=t.dateCheck,r=t.placeCheck,i=this.getBackground();return l.a.createElement("div",{style:{height:"100vh"}},i,l.a.createElement(g.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},l.a.createElement(g.a.Column,{style:{maxWidth:450}},l.a.createElement(f.a,null,l.a.createElement(C.a,null,"Plan Your Next Adventure."),l.a.createElement(A.a,{size:"large"},l.a.createElement(G.DatesRangeInput,{name:"datesRange",placeholder:"From - To",value:a,iconPosition:"left",onChange:this.handleChange}),l.a.createElement(D.a,{onSuggestSelect:function(t){t&&e.setState({placeCheck:!1,location:{lat:t.location.lat,lon:t.location.lng,name:e.stripLocationName(t.label)}})}}),l.a.createElement("br",null),l.a.createElement(z.a,{as:V.b,to:"/plan",onClick:this.handleStartPlan,disabled:n||r,color:"teal",fluid:!0,size:"large"},"Start Planning!"))))))}}]),t}(l.a.Component),se=a(117),oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).addBusinessToPlanner=function(e,t){var n=a.state.selectedEvents;a.setState({selectedEvents:[].concat(Object(s.a)(n),[{business:e,date:t}])})},a.startPlan=function(e,t){a.setState({location:e,dates:t})},a.addBusinessToPlanner=a.addBusinessToPlanner.bind(Object(m.a)(a)),a.startPlan=a.startPlan.bind(Object(m.a)(a)),a.state={selectedEvents:[],location:{},dates:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedEvents,n=t.dates,r=t.location;return l.a.createElement(V.a,null,l.a.createElement(se.a,{exact:!0,path:"/",render:function(){return l.a.createElement(ie,{startPlan:e.startPlan})}}),l.a.createElement(se.a,{path:"/plan",render:function(){return l.a.createElement(g.a,{columns:2,divided:!0,style:{height:"100vh"}},l.a.createElement(g.a.Row,null,l.a.createElement(g.a.Column,null,l.a.createElement(H,{selected:a})),l.a.createElement(g.a.Column,null,l.a.createElement(_,{dates:n,location:r,addBusiness:e.addBusinessToPlanner}))))}}))}}]),t}(l.a.Component);a(594);var ce=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(oe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[396,1,2]]]);
//# sourceMappingURL=main.ce46ee23.chunk.js.map